# 新建类库

dotnet new classlib -n Resilience
dotnet add package polly
dotnet add package Microsoft.Extensions.Logging.Abstractions
dotnet add package Microsoft.AspNetCore.Http
dotnet add package Newtonsoft.Json

cd D:\Code\1.microservice\2.netcore_microservice_userService\User.Identity
dotnet add User.Identity.csproj reference ../BuildingBlocks/Resilience/Resilience.csproj

# 这里遇到很多问题，都是 .net 9 中新特性的语法问题

polly 的应用原理
先尝试几次，然后触发熔断，熔断期间如果 userservice 好用了，熔断就是半开半闭状态。
